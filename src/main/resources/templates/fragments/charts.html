<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: head"></head>

<body>

<!-- year to millions crowns chart (ie gdp by year, public debt by year) -->
<div th:fragment="yearToMillionsSimpleChart(chartname, title,  seriesName, data)">

    <div data-th-id="${chartname}" class="container has-echart box echart"></div>

    <script data-th-inline="javascript">

        var chartName = /*[[${chartname}]]*/ '';
        var seriesName = /*[[${seriesName}]]*/ '';

        var myChart = echarts.init(document.getElementById(chartName), 'dark');

        var data = /*[[${data}]]*/ {};
        var title = /*[[${title}]]*/ '';

        option = {
            tooltip: {},
            title: {
                text: title,
            },
            toolbox: {
                feature: {
                    restore: {},
                    saveAsImage: {}
                }
            },
            grid: {
                left: '3%',
                right: '3%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                data: data.map(function (it) {
                    return it.first;
                })
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter: function (a) {
                        return a.toLocaleString() + ' mld Kƒç'
                    }
                },
            },
            dataZoom: [{
                type: 'inside',
                start: 0,
                end: 100
            },],
            series: [
                {
                    name: seriesName,
                    type: 'line',
                    sampling: 'average',
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: '#5e92f3'
                        }, {
                            offset: 1,
                            color: '#003c8f'
                        }])
                    },
                    data: data.map(function (it) {
                        return Math.round(it.second / 1000);
                    })
                }
            ]
        };

        myChart.setOption(option);


    </script>

</div>

<!-- year to percentage chart (ie unemployment by year, inlflation by year) -->
<div th:fragment="yearToPercentageSimpleChart(chartname, title,  seriesName, data)">

    <div data-th-id="${chartname}" class="container has-echart box echart echart"></div>

    <script data-th-inline="javascript">

        var chartName = /*[[${chartname}]]*/ '';
        var seriesName = /*[[${seriesName}]]*/ '';

        var myChart = echarts.init(document.getElementById(chartName), 'dark');

        var data = /*[[${data}]]*/ {};
        var title = /*[[${title}]]*/ '';

        option = {
            tooltip: {},
            title: {
                text: title,
            },
            toolbox: {
                feature: {
                    restore: {},
                    saveAsImage: {}
                }
            },
            xAxis: {
                data: data.map(function (it) {
                    return it.first;
                })
            },
            grid: {
                left: '3%',
                right: '3%',
                bottom: '3%',
                containLabel: true
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter: function (a) {
                        return a + ' %'
                    }
                },
            },
            dataZoom: [{
                type: 'inside',
                start: 0,
                end: 100
            },],
            series: [
                {
                    name: seriesName,
                    type: 'line',
                    sampling: 'average',
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: '#5e92f3'
                        }, {
                            offset: 1,
                            color: '#003c8f'
                        }])
                    },
                    data: data.map(function (it) {
                        return it.second.toFixed(1);
                    })
                }
            ]
        };

        myChart.setOption(option);

        window.onresize = function() {
            myChart.resize();
        };

    </script>

</div>


</body>

</html>