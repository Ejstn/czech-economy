<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: head"></head>

<script th:replace="fragments/jquery :: clickableTableRows">
</script>

<body>

<!-- header -->
<div th:replace="fragments/common :: header"></div>

<!-- content -->
<section class="section has-text-centered">

    <!-- quick overview -->
    <div class="container">

        <h1 class="title is-4 is-centered">Základní přehled</h1>

        <div class="columns is-centered">

            <!-- gdp -->
            <div class="column">

                <div th:replace="fragments/components :: simpleBox('Reálný HDP',
                ${dashboard.overview.latestGdp.year},
                ${#numbers.formatDecimal(dashboard.overview.latestGdp.percentChange, 0, 'COMMA', 1, 'POINT')+ '%'} )">
                </div>

            </div>

            <!-- inflation -->
            <div class="column">

                <div th:replace="fragments/components :: simpleBox('Meziroční inflace',
                |${dashboard.overview.inflation.month} ${dashboard.overview.inflation.inflation.year}|,
                ${#numbers.formatDecimal(dashboard.overview.inflation.inflation.valuePercent, 0, 'COMMA', 1, 'POINT') + '%'} )">
                </div>


            </div>

            <!-- unemployment -->
            <div class="column" th:remove="${dashboard.overview.unemployment == null} ? all : none">

                <div th:replace="fragments/components :: simpleBox('Nezaměstnanost',
                ${dashboard.overview.unemployment.month},
                ${#numbers.formatDecimal(dashboard.overview.unemployment.unemployment.unemploymentRatePercent, 0, 'COMMA', 1, 'POINT')+ '%'} )">
                </div>

            </div>

            <!-- average salary -->
            <div class="column"  th:remove="${dashboard.overview.averageSalary == null} ? all : none">

                <div th:replace="fragments/components :: simpleBox('Průměrná mzda',
                |${dashboard.overview.averageSalary.quarter}. čtvrtletí ${dashboard.overview.averageSalary.year}|,
                ${dashboard.overview.averageSalary.salaryCrowns} + ' Kč' )">
                </div>

            </div>

        </div>

        <div class="columns is-centered">

            <!-- exchange rate -->
            <div class="column">

                <div class="box">

                    <h1 class="title is-6">Kurzy koruny pro <span data-th-text="${{dashboard.overview.exchangeRate.date}}"></span>
                    </h1>


                    <table class="table is-hoverable is-striped is-fullwidth">

                        <thead class="title is-6">
                        <tr>
                            <th>Kód</th>
                            <th>Množsví</th>
                            <th>Kurz</th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr id="clickableRow" data-th-each="entry : ${dashboard.overview.exchangeRate.rates}">
                            <td>[[${entry.currencyCode}]]</td>
                            <td>[[${entry.amount}]]</td>
                            <td>[[${entry.exchangeRate}]] <a
                                    data-th-href="@{/kurzy/{path}(path=${entry.currencyCode})}"></a></td>
                        </tr>

                        </tbody>


                    </table>


                </div>

            </div>

        </div>

    </div>

    <br>

    <!-- real gdp 2010 prices -->
    <div th:replace="fragments/charts :: yearToPercentageSimpleChart(
    'chart_real_gdp',
    'Vývoj reálného HDP v %',
    'HDP',
    ${dashboard.realGdp2010PricesPercentChange})"></div>

    <!-- unemployment -->
    <div th:replace="fragments/charts :: yearToPercentageSimpleChart(
    'chart_unemployment',
    'Nezaměstnanost v %',
    'Nezaměstnanost',
    ${dashboard.yearlyUnempRates})"></div>

    <!-- inflation -->
    <div th:replace="fragments/charts :: yearToPercentageSimpleChart(
    'chart_inflation',
    'Meziroční vývoj inflace v %',
    'Inflace',
    ${dashboard.yearlyInflationRates})"></div>

    <!-- public debt -->
    <div th:replace="fragments/charts :: yearToMillionsSimpleChart(
    'chart_public_debt',
    'Vývoj státního dluhu v běžných cenách',
    'Státní dluh',
    ${dashboard.publicDebt}
    )"></div>

</section>

<!-- footer -->
<div th:replace="fragments/common :: footer"></div>

</body>
</html>